"use strict";(self.webpackChunkmedhead=self.webpackChunkmedhead||[]).push([[80],{80:(L,g,i)=>{i.r(g),i.d(g,{SpecialitesModule:()=>_});var l=i(6895),f=i(209),h=i(322),v=i(881),e=i(1571),u=i(6626),y=i(6534),C=i(1572),s=i(433),S=i(217),G=i(3360),p=i(9549),a=i(4144),m=i(4859);let x=(()=>{class n{constructor(t,o){this.formBuilder=t,this.specService=o,this.newGroupForm=this.formBuilder.group({name:["",s.kI.required]})}ngOnInit(){}ajouter(){let t=this.newGroupForm.get("name").value;this.specService.addGroupeSpecialite(t).subscribe(o=>{null==o.exceptionMessage?S.H.successMessage("Groupe ajout\xe9"):G.q.errorMessage(o.exceptionMessage)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(u.R))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-groupe-spec"]],decls:11,vars:2,consts:[[1,"container"],[1,"newGroupFormContainer"],[1,"newGroupForm",3,"formGroup"],["appearance","fill"],["matInput","","type","text","placeholder","Nom","formControlName","name"],["mat-button","",1,"ajouter","primary",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Ajouter un nouveau groupe"),e.qZA(),e.TgZ(4,"form",2)(5,"mat-form-field",3)(6,"mat-label"),e._uU(7,"Nouveau groupe"),e.qZA(),e._UZ(8,"input",4),e.qZA(),e.TgZ(9,"button",5),e.NdJ("click",function(){return o.ajouter()}),e._uU(10,"Ajouter"),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",o.newGroupForm),e.xp6(5),e.Q6J("disabled",o.newGroupForm.invalid))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,p.KE,p.hX,a.Nt,m.lW],styles:[".container[_ngcontent-%COMP%]{display:flex;padding:1em}img[_ngcontent-%COMP%]{width:10vw}.newGroupFormContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;border-radius:.3em;padding:1em;width:30vw}.newGroupForm[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:stretch;align-items:center}.newGroupForm[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1em}"]}),n})();var Z=i(5113),O=i(3238);function w(n,c){if(1&n&&(e.TgZ(0,"mat-option",8),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.Q6J("value",t.groupeID),e.xp6(1),e.hij(" ",t.name," ")}}let M=(()=>{class n{constructor(t,o){this.formBuilder=t,this.specialiteService=o,this.groupeOptions=[],this.stompClient=null,this.newSpecForm=this.formBuilder.group({name:["",s.kI.required],groupe:["",s.kI.required]}),this.getGroupes()}ngOnDestroy(){this.disconnect()}groupeSelectionChange(t){let o=t.value;this.newSpecForm.get("groupe").setValue(o)}ngOnInit(){this.connectToSocket()}addSpecialite(){let t=this.newSpecForm.get("name").value,o=this.newSpecForm.get("groupe").value;this.specialiteService.addSpecialite(t,o).subscribe(r=>{null==r.exceptionMessage?S.H.successMessage("Ajout\xe9 avec succ\xe8es"):G.q.errorMessage(r.exceptionMessage)})}getGroupes(){this.specialiteService.getAllGroupes().subscribe(t=>{this.groupeOptions=t.groupes})}connectToSocket(){const t=new f(v.Y);this.stompClient=h.over(t),this.stompClient.connect({},()=>{this.stompClient.subscribe("/topic/updateGroups",()=>{this.getGroupes()})})}disconnect(){this.stompClient.disconnect()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(u.R))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-spec"]],decls:16,vars:3,consts:[[1,"container"],[1,"newSpecFormContainer"],[1,"newSpecForm",3,"formGroup"],["appearance","fill"],[3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","placeholder","Nom","formControlName","name"],["mat-button","",1,"ajouter","primary",3,"disabled","click"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Ajouter une nouvelle sp\xe9cialit\xe9"),e.qZA(),e.TgZ(4,"form",2)(5,"mat-form-field",3)(6,"mat-label"),e._uU(7,"Groupe de sp\xe9cialit\xe9s"),e.qZA(),e.TgZ(8,"mat-select",4),e.NdJ("selectionChange",function(d){return o.groupeSelectionChange(d)}),e.YNc(9,w,2,2,"mat-option",5),e.qZA()(),e.TgZ(10,"mat-form-field",3)(11,"mat-label"),e._uU(12,"Nom de la specialite"),e.qZA(),e._UZ(13,"input",6),e.qZA(),e.TgZ(14,"button",7),e.NdJ("click",function(){return o.addSpecialite()}),e._uU(15,"Ajouter"),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",o.newSpecForm),e.xp6(5),e.Q6J("ngForOf",o.groupeOptions),e.xp6(5),e.Q6J("disabled",o.newSpecForm.invalid))},dependencies:[l.sg,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,p.KE,p.hX,a.Nt,m.lW,Z.gD,O.ey],styles:[".container[_ngcontent-%COMP%]{display:flex;padding:1em}img[_ngcontent-%COMP%]{width:10vw}.newSpecFormContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;border-radius:.3em;padding:1em;width:30vw}.ajouter[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.newSpecForm[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.newSpecForm[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1em}"]}),n})();function F(n,c){1&n&&(e.TgZ(0,"div",7),e._UZ(1,"mat-spinner",8),e.qZA())}function T(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){const d=e.CHM(t).$implicit,U=e.oxw(2);return e.KtG(U.selectGroupe(d.groupeID))}),e._uU(1),e.qZA()}if(2&n){const t=c.$implicit;e.s9C("id",t.groupeID),e.xp6(1),e.hij(" ",t.name," ")}}function A(n,c){1&n&&(e.TgZ(0,"div",16),e._uU(1,"Selectionnez un groupe pour afficher les sp\xe9cialit\xe9s"),e.qZA())}function I(n,c){if(1&n&&(e.TgZ(0,"li",17),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function N(n,c){if(1&n&&(e.TgZ(0,"div",9)(1,"div",10),e.YNc(2,T,2,2,"div",11),e.qZA(),e.TgZ(3,"div",12),e.YNc(4,A,2,0,"div",13),e.TgZ(5,"ul"),e.YNc(6,I,2,1,"li",14),e.qZA()()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.groupes),e.xp6(2),e.Q6J("ngIf",0==t.specialites.length),e.xp6(2),e.Q6J("ngForOf",t.specialites)}}let j=(()=>{class n{constructor(t){this.specService=t,this.groupes=[],this.specialites=[],this.currentlySelectedGroupeID=0,this.isLoading=!0,this.stompClient=null,this.getAllGroupes()}ngOnDestroy(){this.disconnect()}ngOnInit(){this.connectToSocket()}connectToSocket(){let t=new f(v.Y);this.stompClient=h.over(t),this.stompClient.connect({},()=>{this.stompClient.subscribe("/topic/updateGroups",()=>{this.getAllGroupes()})})}disconnect(){this.stompClient.disconnect()}getAllGroupes(){this.isLoading=!0,this.specService.getAllGroupes().subscribe(t=>{this.groupes=t.groupes,this.currentlySelectedGroupeID=this.groupes[0].groupeID,this.isLoading=!1,console.log(this.groupes)})}selectGroupe(t){document.getElementById(this.currentlySelectedGroupeID.toString())?.classList.remove("selectedGroup"),document.getElementById(t.toString()).classList.add("selectedGroup"),this.currentlySelectedGroupeID=t,this.getSpecialitesByGroupId(t)}getSpecialitesByGroupId(t){this.specService.getSpecialiteByGroupeId(t).subscribe(o=>{this.specialites=o.specialites})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.R))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-spec-home"]],decls:10,vars:2,consts:[[1,"container"],[1,"top"],["src","https://i.postimg.cc/hGgqBhs9/ajouter-Specialite.png"],[1,"newGroupe"],[1,"newSpec"],["class","loading",4,"ngIf"],["class","bottom",4,"ngIf"],[1,"loading"],["diameter","50"],[1,"bottom"],[1,"listeGroupes"],["class","groupLine",3,"id","click",4,"ngFor","ngForOf"],[1,"listeSpecialites"],["class","hint",4,"ngIf"],["class","specLine",4,"ngFor","ngForOf"],[1,"groupLine",3,"id","click"],[1,"hint"],[1,"specLine"]],template:function(t,o){1&t&&(e._UZ(0,"app-menu"),e.TgZ(1,"div",0)(2,"div",1),e._UZ(3,"img",2),e.TgZ(4,"div",3),e._UZ(5,"app-groupe-spec"),e.qZA(),e.TgZ(6,"div",4),e._UZ(7,"app-new-spec"),e.qZA()(),e.YNc(8,F,2,0,"div",5),e.YNc(9,N,7,3,"div",6),e.qZA()),2&t&&(e.xp6(8),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",!o.isLoading))},dependencies:[l.sg,l.O5,y.M,C.Ou,x,M],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1em}img[_ngcontent-%COMP%]{width:15vw}.top[_ngcontent-%COMP%]{display:flex}.bottom[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;margin:1em}.groupLine[_ngcontent-%COMP%]{padding:.5em;transition:all .2s;cursor:pointer}.groupLine[_ngcontent-%COMP%]:hover{background-color:#cff4d2;border-radius:.3em;padding:.5em}.selectedGroup[_ngcontent-%COMP%]{background-color:#359d9e;color:#fff}.selectedGroup[_ngcontent-%COMP%]:hover{background-color:#359d9e}.listeSpecialites[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;margin:4em}.supprimer[_ngcontent-%COMP%]{border:1px solid rgb(241,113,113)}"]}),n})();var P=i(9347),b=i(4466);const J=[{path:"",component:j}];let _=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,b.m,s.UX,p.lN,a.c,m.ot,Z.LD,C.Cq,s.u5,P.Bz.forChild(J)]}),n})()}}]);